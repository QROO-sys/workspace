(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{4466:function(e,n,t){Promise.resolve().then(t.t.bind(t,2778,23)),Promise.resolve().then(t.bind(t,8177))},7648:function(e,n,t){"use strict";t.d(n,{default:function(){return s.a}});var r=t(2972),s=t.n(r)},9376:function(e,n,t){"use strict";var r=t(5475);t.o(r,"usePathname")&&t.d(n,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(n,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(n,{useSearchParams:function(){return r.useSearchParams}})},257:function(e,n,t){"use strict";var r,s;e.exports=(null==(r=t.g.process)?void 0:r.env)&&"object"==typeof(null==(s=t.g.process)?void 0:s.env)?t.g.process:t(4227)},4227:function(e){!function(){var n={229:function(e){var n,t,r,s=e.exports={};function o(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function i(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{t="function"==typeof clearTimeout?clearTimeout:a}catch(e){t=a}}();var u=[],l=!1,c=-1;function d(){l&&r&&(l=!1,r.length?u=r.concat(u):c=-1,u.length&&h())}function h(){if(!l){var e=i(d);l=!0;for(var n=u.length;n;){for(r=u,u=[];++c<n;)r&&r[c].run();c=-1,n=u.length}r=null,l=!1,function(e){if(t===clearTimeout)return clearTimeout(e);if((t===a||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(e);try{t(e)}catch(n){try{return t.call(null,e)}catch(n){return t.call(this,e)}}}(e)}}function f(e,n){this.fun=e,this.array=n}function m(){}s.nextTick=function(e){var n=Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];u.push(new f(e,n)),1!==u.length||l||i(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=m,s.addListener=m,s.once=m,s.off=m,s.removeListener=m,s.removeAllListeners=m,s.emit=m,s.prependListener=m,s.prependOnceListener=m,s.listeners=function(e){return[]},s.binding=function(e){throw Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw Error("process.chdir is not supported")},s.umask=function(){return 0}}},t={};function r(e){var s=t[e];if(void 0!==s)return s.exports;var o=t[e]={exports:{}},a=!0;try{n[e](o,o.exports,r),a=!1}finally{a&&delete t[e]}return o.exports}r.ab="//";var s=r(229);e.exports=s}()},8177:function(e,n,t){"use strict";t.d(n,{default:function(){return d}});var r=t(7437),s=t(7648),o=t(9376),a=t(2265);let i={owner:"Admin",dashboard:"Dashboard",sessions:"Sessions",bookings:"Bookings",menu:"Menu",desks:"Desks",analytics:"Analytics",users:"Users",requests:"Requests",login:"Login",register:"Register",checkout:"Checkout"};function u(){let e=(0,o.usePathname)().split("/").filter(Boolean);if(e.length<=1)return null;let n="";return(0,r.jsx)("nav",{className:"text-sm text-gray-600","aria-label":"Breadcrumb",children:(0,r.jsxs)("ol",{className:"flex flex-wrap items-center gap-2",children:[(0,r.jsx)("li",{children:(0,r.jsx)(s.default,{className:"hover:underline",href:"/",children:"Home"})}),e.map((t,o)=>{n+="/".concat(t);let a=o===e.length-1,u=i[t]||t;return(0,r.jsxs)("li",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-gray-400",children:"/"}),a?(0,r.jsx)("span",{className:"text-gray-900",children:u}):(0,r.jsx)(s.default,{className:"hover:underline",href:n,children:u})]},"".concat(n))})]})})}var l=t(1837),c=t(82);function d(e){let{initialLang:n}=e,t=(0,o.usePathname)(),i=(0,o.useRouter)(),[d,h]=(0,a.useState)(!1),[f,m]=(0,a.useState)((0,c.AE)(n));async function g(e){m(e);try{await fetch("/api/lang",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lang:e})})}finally{i.refresh()}}async function p(){try{await (0,l.S)("/auth/logout",{method:"POST"})}catch(e){}i.push("/login"),i.refresh()}return(0,a.useEffect)(()=>{if(h("undefined"!=typeof document&&document.cookie.includes("access_token=")),!n&&"undefined"!=typeof document){let e=document.cookie.match(/(?:^|; )lang=([^;]+)/);m((0,c.AE)(e?decodeURIComponent(e[1]):"en"))}},[t]),(0,r.jsx)("header",{className:"border-b bg-white",children:(0,r.jsxs)("div",{className:"mx-auto flex max-w-5xl items-center justify-between gap-4 px-4 py-3",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsx)(s.default,{href:"/",className:"text-lg font-semibold",children:"QROO Workspace"}),(0,r.jsx)(u,{})]}),(0,r.jsxs)("nav",{className:"flex items-center gap-3 text-sm",children:[(0,r.jsxs)("select",{className:"rounded border bg-white px-2 py-1",value:f,onChange:e=>g((0,c.AE)(e.target.value)),"aria-label":(0,c.t)(f,"langSwitch"),children:[(0,r.jsx)("option",{value:"en",children:(0,c.t)("en","langName")}),(0,r.jsx)("option",{value:"ar-eg",children:(0,c.t)("ar-eg","langName")})]}),(0,r.jsx)(s.default,{className:"hover:underline",href:"/register",children:"Register"}),(0,r.jsx)(s.default,{className:"hover:underline",href:"/login",children:(0,c.t)(f,"login")}),(0,r.jsx)(s.default,{className:"hover:underline",href:"/owner/dashboard",children:"Admin"}),d?(0,r.jsx)("button",{className:"rounded border px-3 py-1 hover:bg-gray-50",onClick:p,children:(0,c.t)(f,"logout")}):null]})]})})}},1837:function(e,n,t){"use strict";t.d(n,{S:function(){return s}});var r=t(257);async function s(e,n){let t=r.env.NEXT_PUBLIC_API_URL||"http://localhost:3001",s=await fetch("".concat(t).concat(e),{...n,credentials:"include"});if(!s.ok)throw Error(await s.text()||"Request failed: ".concat(s.status));return(s.headers.get("content-type")||"").includes("application/json")?s.json():s.text()}},82:function(e,n,t){"use strict";function r(e){let n=(e||"").toLowerCase().trim();return"ar"===n||"ar-eg"===n||"ar_eg"===n||"ar-egypt"===n?"ar-eg":"en"}t.d(n,{AE:function(){return r},t:function(){return o}});let s={en:{langName:"English",langSwitch:"Language",login:"Login",email:"Email",password:"Password",signIn:"Sign in",logout:"Log out",dashboard:"Dashboard",analytics:"Analytics",dailyRevenue:"Daily revenue",totalRevenueAllTime:"Total revenue (all time)",todayRevenue:"Today's revenue",openBookings:"Open bookings",openOrders:"Open orders",requests:"Requests",bookings:"Bookings",desks:"Desks",menuItems:"Menu items",users:"Users",dbTools:"DB tools",smsTools:"SMS",save:"Save",setAllHourlyRates:"Set hourly rate for ALL desks",hourlyRate:"Hourly rate",runDbPush:"Push schema to DB",runDbReset:"Reset DB (danger)",runSeed:"Seed demo data",enableDbToolsHint:"Set ENABLE_DB_TOOLS=true in backend .env to enable these buttons.",sendTestSms:"Send test SMS",adminPhone:"Admin phone",message:"Message"},"ar-eg":{langName:"عربي (مصر)",langSwitch:"اللغة",login:"تسجيل الدخول",email:"الإيميل",password:"كلمة السر",signIn:"دخول",logout:"تسجيل خروج",dashboard:"لوحة التحكم",analytics:"الإحصائيات",dailyRevenue:"إيراد يومي",totalRevenueAllTime:"إجمالي الإيراد (من البداية)",todayRevenue:"إيراد النهارده",openBookings:"حجوزات مفتوحة",openOrders:"طلبات مفتوحة",requests:"الطلبات",bookings:"الحجوزات",desks:"المكاتب",menuItems:"المنتجات",users:"المستخدمين",dbTools:"أدوات قاعدة البيانات",smsTools:"رسائل SMS",save:"حفظ",setAllHourlyRates:"تعيين سعر الساعة لكل المكاتب",hourlyRate:"سعر الساعة",runDbPush:"تطبيق الـ Schema على قاعدة البيانات",runDbReset:"مسح وإعادة تهيئة الداتا (خطر)",runSeed:"تحميل داتا تجريبية",enableDbToolsHint:"فعّل ENABLE_DB_TOOLS=true في ملف backend .env علشان الأزرار تشتغل.",sendTestSms:"إرسال SMS تجريبي",adminPhone:"موبايل الأدمن",message:"الرسالة"}};function o(e,n){var t,r,o;return null!==(o=null!==(r=null===(t=s[e])||void 0===t?void 0:t[n])&&void 0!==r?r:s.en[n])&&void 0!==o?o:n}},2778:function(){}},function(e){e.O(0,[461,972,971,117,744],function(){return e(e.s=4466)}),_N_E=e.O()}]);
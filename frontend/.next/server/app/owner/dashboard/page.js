(()=>{var e={};e.id=68,e.ids=[68],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5230:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>l}),t(7415),t(446),t(5079),t(5866);var r=t(3191),a=t(8716),n=t(7922),o=t.n(n),i=t(5231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);t.d(s,d);let l=["",{children:["owner",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,7415)),"/Users/fuuentes/workspace/qroo_final/workspace/frontend/src/app/owner/dashboard/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,446)),"/Users/fuuentes/workspace/qroo_final/workspace/frontend/src/app/owner/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,5079)),"/Users/fuuentes/workspace/qroo_final/workspace/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/fuuentes/workspace/qroo_final/workspace/frontend/src/app/owner/dashboard/page.tsx"],x="/owner/dashboard/page",m={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/owner/dashboard/page",pathname:"/owner/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},5303:()=>{},7415:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d});var r=t(9510),a=t(2293),n=t(1615),o=t(2984);function i(e){return new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(e)+" EGP"}async function d(){let e=(0,o.AE)(n.cookies().get("lang")?.value),[s,t,d,l]=await Promise.all([(0,a.M)("/auth/me"),(0,a.M)("/desks"),(0,a.M)("/orders"),(0,a.M)("/analytics/revenue/daily?days=1")]),c=s?.role==="STAFF",x=(d||[]).filter(e=>"CANCELLED"!==e.status).reduce((e,s)=>e+(s.total||0),0),m=l?.data?.[0]?.gross??0,u=(d||[]).filter(e=>"PENDING"===e.status).length;return(0,r.jsxs)("div",{className:"mx-auto max-w-4xl px-6 py-8",children:[r.jsx("div",{className:"flex items-end justify-between gap-4",children:(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"}),r.jsx("p",{className:"text-sm text-gray-600",children:"QROO Workspace sessions (orders) per desk."})]})}),(0,r.jsxs)("div",{className:"mt-6 grid gap-4 sm:grid-cols-3",children:[(0,r.jsxs)("div",{className:"rounded border bg-white p-4",children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Desks"}),r.jsx("div",{className:"text-2xl font-bold",children:t?.length||0})]}),(0,r.jsxs)("div",{className:"rounded border bg-white p-4",children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Pending sessions"}),r.jsx("div",{className:"text-2xl font-bold",children:u})]}),(0,r.jsxs)("div",{className:"rounded border bg-white p-4",children:[r.jsx("div",{className:"text-sm text-gray-600",children:c?(0,o.t)(e,"todayRevenue"):(0,o.t)(e,"totalRevenueAllTime")}),r.jsx("div",{className:"text-2xl font-bold",children:i(c?m:x)})]})]}),(0,r.jsxs)("div",{className:"mt-6 rounded border bg-white p-4",children:[r.jsx("div",{className:"font-semibold",children:"Latest sessions"}),(0,r.jsxs)("div",{className:"mt-3 space-y-2",children:[(d||[]).slice(0,10).map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between border-b pb-2",children:[(0,r.jsxs)("div",{children:[r.jsx("div",{className:"font-medium",children:e.table?.name||"Desk"}),r.jsx("div",{className:"text-xs text-gray-600",children:new Date(e.createdAt).toLocaleString()})]}),(0,r.jsxs)("div",{className:"text-right",children:[r.jsx("div",{className:"font-semibold",children:i(e.total)}),r.jsx("div",{className:"text-xs text-gray-600",children:e.status})]})]},e.id)),0===(d||[]).length&&r.jsx("div",{className:"text-sm text-gray-600",children:"No sessions yet."})]})]})]})}},2293:(e,s,t)=>{"use strict";t.d(s,{M:()=>a});var r=t(1615);async function a(e){let s=process.env.NEXT_PUBLIC_API_URL||"http://localhost:3001",t=(0,r.cookies)(),a=t.get("access_token")?.value,n=await fetch(`${s}${e}`,{cache:"no-store",headers:a?{cookie:`access_token=${a}`}:{}});if(!n.ok)throw Error(await n.text()||`Request failed: ${n.status}`);return n.json()}}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[380,301,569],()=>t(5230));module.exports=r})();
(()=>{var e={};e.id=644,e.ids=[644],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1356:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>n.Z,__next_app__:()=>p,originalPathname:()=>c,pages:()=>i,routeModule:()=>u,tree:()=>d}),s(9392),s(2697),s(5079),s(5866);var t=s(3191),a=s(8716),n=s(3315),l=s(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(r,o);let d=["",{children:["owner",{children:["desks",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9392)),"/Users/fuuentes/workspace/qroo_final/workspace/frontend/src/app/owner/desks/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,2697)),"/Users/fuuentes/workspace/qroo_final/workspace/frontend/src/app/owner/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,5079)),"/Users/fuuentes/workspace/qroo_final/workspace/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],i=["/Users/fuuentes/workspace/qroo_final/workspace/frontend/src/app/owner/desks/page.tsx"],c="/owner/desks/page",p={require:s,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/owner/desks/page",pathname:"/owner/desks",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},1809:(e,r,s)=>{Promise.resolve().then(s.bind(s,754))},754:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>d});var t=s(326),a=s(7577),n=s(8069);let l=null;try{l=s(4507).ZP}catch{l=null}function o(e){return String(e).padStart(3,"0")}function d(){let[e,r]=(0,a.useState)(!0),[s,d]=(0,a.useState)(null),[i,c]=(0,a.useState)([]);async function p(){d(null),r(!0);try{let e=await (0,n.S)("/desks",{method:"GET"}).catch(()=>({desks:[]})),r=Array.isArray(e)?e:e?.desks,s=Array.isArray(r)?r:[],t=s.map((e,r)=>{let s=String(e?.id??e?._id??`desk-${r+1}`),t=String(e?.name??`Desk ${r+1}`),a=String(e?.laptopSerial??e?.serial??`LAP-${o(r+1)}`),n=String(e?.qrUrl??""),l=n&&"undefined"!==n?n:`/d/${s}`;return{id:s,name:t,laptopSerial:a,qrUrl:l}}),a=[];for(let e=0;e<10;e++){let r=t[e];if(r&&r.id)a.push({...r,name:r.name||`Desk ${e+1}`,laptopSerial:r.laptopSerial||`LAP-${o(e+1)}`,qrUrl:r.qrUrl||`/d/${r.id}`});else{let r=`placeholder-desk-${e+1}`;a.push({id:r,name:`Desk ${e+1}`,laptopSerial:`LAP-${o(e+1)}`,qrUrl:`/d/${r}`,isPlaceholder:!0})}}c(a),0===s.length&&d("No desks returned from /desks. Seed the 10 desks in the database to enable booking and real IDs.")}catch(e){d(e?.message||"Failed to load desks")}finally{r(!1)}}let u=(0,a.useMemo)(()=>!!l,[]);return e?t.jsx("div",{className:"min-h-[60vh] flex items-center justify-center text-sm text-gray-600",children:"Loading desksâ€¦"}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("div",{className:"text-2xl font-bold",children:"Desks"}),t.jsx("div",{className:"text-sm text-gray-600",children:"10 desk cards with QR codes for guest ordering."})]}),t.jsx("button",{className:"rounded border px-3 py-2 text-sm hover:bg-gray-50",onClick:p,type:"button",children:"Refresh"})]}),s&&t.jsx("div",{className:"rounded border bg-red-50 p-3 text-sm text-red-800 border-red-200",children:s}),t.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5",children:i.map(e=>(0,t.jsxs)("div",{className:"rounded border bg-white p-4",children:[t.jsx("div",{className:"font-semibold",children:e.name}),(0,t.jsxs)("div",{className:"text-xs text-gray-600 mt-1",children:["Laptop: ",e.laptopSerial]}),t.jsx("div",{className:"mt-3 rounded bg-gray-50 p-3 flex items-center justify-center",children:u?t.jsx(l,{value:e.qrUrl,size:140}):(0,t.jsxs)("div",{className:"text-xs text-gray-600 text-center",children:["QR lib not installed.",t.jsx("div",{className:"mt-1",children:"Use the link below."})]})}),t.jsx("a",{className:"mt-3 block text-xs underline break-all",href:e.qrUrl,target:"_blank",rel:"noreferrer",children:e.qrUrl}),e.isPlaceholder&&t.jsx("div",{className:"mt-2 text-xs text-yellow-700 bg-yellow-50 border border-yellow-200 rounded p-2",children:"Placeholder desk (not in DB yet)"})]},e.id))})]})}},9392:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});let t=(0,s(8570).createProxy)(String.raw`/Users/fuuentes/workspace/qroo_final/workspace/frontend/src/app/owner/desks/page.tsx#default`)}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[380,301,507,411],()=>s(1356));module.exports=t})();